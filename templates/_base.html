{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <!--Required Meta Tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>

<body>
	<div class="container-fluid h-100" style="min-height: 10px; min-width: 1300px;">
		
		<div class="row flex-nowrap h-100">
			<div class="col-2 justify-content-center align-items-center shadow" style="background-color: #4747d1" id="left-col">
				<div class="d-flex flex-row">
					<div class="col-12 mt-2">
						<h class="h3 text-white text-left font-weight-bold">Tiny Medium Clone</h>
					</div>
				</div>

				<div class="d-flex flex-row">
					<div class="col-12">
						<nav class="navbar navbar-expand-xl|lg|md|sm d-flex flex-row">
							<ul class="navbar-nav">
								<li class="nav-item d-flex justify-content-center align-items-center" id="home">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-house" viewBox="0 0 16 16">
										<path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
										<path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
									  </svg>
									<a class="ml-1 nav-link text-white" href="{% url 'homepage' %}">Home</a>
								</li>
								<li class="nav-item d-flex justify-content-center align-items-center" id="profile">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-person" viewBox="0 0 16 16">
										<path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
									  </svg>
									<a class="ml-1 nav-link text-white" href="#">Profile</a>
								</li>
								<li class="nav-item d-flex justify-content-center align-items-center" id="favourite">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-heart" viewBox="0 0 16 16">
										<path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
									  </svg>
									<a class="ml-1 nav-link text-white" href="{% url 'my_favourites'%}"> Favourite</a>
								</li>
								<li class="nav-item d-flex justify-content-left align-items-center" id="my-articles">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-book" viewBox="0 0 16 16">
										<path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
									  </svg>
									<a class="ml-1 nav-link text-white" href="{% url 'my_articles' %}">My Articles</a>
								</li>
								<li class="nav-item d-flex justify-content-center align-items-center" id="my-notes">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-stickies" viewBox="0 0 16 16">
										<path d="M1.5 0A1.5 1.5 0 0 0 0 1.5V13a1 1 0 0 0 1 1V1.5a.5.5 0 0 1 .5-.5H14a1 1 0 0 0-1-1H1.5z"/>
										<path d="M3.5 2A1.5 1.5 0 0 0 2 3.5v11A1.5 1.5 0 0 0 3.5 16h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 16 9.586V3.5A1.5 1.5 0 0 0 14.5 2h-11zM3 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5V9h-4.5A1.5 1.5 0 0 0 9 10.5V15H3.5a.5.5 0 0 1-.5-.5v-11zm7 11.293V10.5a.5.5 0 0 1 .5-.5h4.293L10 14.793z"/>
									  </svg>
									<a class="ml-1 nav-link text-white" href="{% url 'my_notes' %}">My Notes</a>
								</li>
								<li class="nav-item d-flex justify-content-center align-items-center" id="Readlist">
									<svg class="mx-1" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-bookmark" viewBox="0 0 16 16">
										<path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
									</svg>
									<a class="ml-1 nav-link text-white" href="{% url 'my_readlist' %}">My Readlist</a>
								</li>

							</ul>
						</nav>
					</div>
				</div>
			</div>

			<div class="col-lg-8 justify-content-center" style="background-color: #d6d6d6; min-width:1300px !important;" id="center-col">
				<div class="row mt-2 ml-1 rounded" style="height: 100px; background-color: #ffffff; ">
				<div class="col-8 d-flex justify-content-left align-items-center">
					<div class="input-group rounded">
						<input type="search" class="form-control rounded" placeholder="Search Article by name or tags." aria-label="Search" aria-describedby="search-addon" />
						<span class="input-group-text border-0" id="search-addon">
						  <i class="fas fa-search"></i>
						</span>
					  </div>
				</div>
				<div class="col d-flex justify-content-center align-items-center text-right" style="min-width: 80px">
                    {% if user.is_authenticated %}
					<img src="/static/images/user.svg" class="rounded-circle" alt="Cinque Terre" height="60px" widht="60px">
					<div class="text-right">
					<h4 class="ml-5"> {{user.get_full_name|title}} </h4>
					</div>
                    {% else %}
                    <div>
                    <a href="{% url 'signup' %}" class="btn btn-primary " role="button">Sign up</a>
					<a href="{% url 'login' %}" class="btn btn-info " role="button">Login</a>
                    </div>
                    {% endif %}
				</div>
				</div>
                {% if user.is_authenticated %} 
				<div class="row d-flex flex-row ml-1 mb-1 pb-2 rounded" style="background-color: #ffffff;">
					<div class="col-1">
                        {% if user.is_authenticated %}
						<img src="/static/images/user.svg" class="rounded-circle" alt="Cinque Terre" height="80px" widht="80px">
                        {% endif %}
					</div>
					<div class="col-7">
						<div class="row d-flex flex-row">
							<div class="col-12 justify-content-left"><p class="font-weight-bold">Hello there,</p></div>
						</div>
						<div class="row d-flex flex-row">
                            {% if user.is_authenticated %}
							<div class="col-12 justify-content-left"><p>{{user.get_full_name|title}} (<b>@{{ user.get_username|title }}</b>)</p></div>
                            {% endif %}
						</div>
					</div>
					<div class="col-4 justify-content-between align-items-center text-right">
						<div class="ml-5">
                        {% if user.is_authenticated %}
                        <a href="{% url 'create_article' %}" class="btn btn-primary " role="button">Add new article</a>
						<a href="{% url 'create_note' %}" class="btn btn-info " role="button">Create note</a>
						
						<!-- Modal button -->
						<a href="{% url 'logout' %}" class="btn btn-warning" data-toggle="modal" data-target="#logoutModal" >Log out</a>
						<!-- Modal -->
						<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
							aria-hidden="true">
							<div class="modal-dialog" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="logoutModal">Log Out</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										<p>Are you sure you want to log out?</p>
									</div>
									<div class="modal-footer">
										<form id="logoutform" method="POST" action="{% url 'logout' %}">
											{% csrf_token %}
											<input type="hidden">
											<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
											<button type="button" class="btn btn-danger"
												onClick="document.getElementById('logoutform').submit()">Log
												Out</button>
										</form>
									</div>
								</div>
							</div>
						</div>
                        {% else %}
                        <a href="{% url 'signup' %}" >Sign up</a>
						<a href="{% url 'login' %}" class="btn btn-info ">Login</a>
                        {% endif %}
						</div>
					</div>
				</div>
                {% endif %}
				<div class="row d-flex nowrap mt-3" style="height: 100vh">
				{% block content %}
				{% endblock content %}
				</div>
			</div>
			
			<div class="col-2 flex-shrink-3" style="background-color: #d6d6d6" id="right-col">
				
			</div>
		</div>

	</div>

    <!--Optional JavaScript -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>